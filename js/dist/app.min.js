/*! ######5878794@qq.com###### */
!function(t){function e(l){if(d[l])return d[l].exports;var c=d[l]={i:l,l:!1,exports:{}};return t[l].call(c.exports,c,c.exports,e),c.l=!0,c.exports}var d={};return e.m=t,e.c=d,e.i=function(t){return t},e.d=function(t,d,l){e.o(t,d)||Object.defineProperty(t,d,{configurable:!1,enumerable:!0,get:l})},e.n=function(t){var d=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(d,"a",d),d},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! npm.im/iphone-inline-video 2.0.2 */\nvar enableInlineVideo = function () {\n\t'use strict';\n\n\t/*! npm.im/intervalometer */\n\n\tfunction intervalometer(cb, request, cancel, requestParameter) {\n\t\tvar requestId;\n\t\tvar previousLoopTime;\n\t\tfunction loop(now) {\n\t\t\t// must be requested before cb() because that might call .stop()\n\t\t\trequestId = request(loop, requestParameter);\n\n\t\t\t// called with \"ms since last call\". 0 on start()\n\t\t\tcb(now - (previousLoopTime || now));\n\n\t\t\tpreviousLoopTime = now;\n\t\t}\n\t\treturn {\n\t\t\tstart: function start() {\n\t\t\t\tif (!requestId) {\n\t\t\t\t\t// prevent double starts\n\t\t\t\t\tloop(0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tstop: function stop() {\n\t\t\t\tcancel(requestId);\n\t\t\t\trequestId = null;\n\t\t\t\tpreviousLoopTime = 0;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction frameIntervalometer(cb) {\n\t\treturn intervalometer(cb, requestAnimationFrame, cancelAnimationFrame);\n\t}\n\n\tfunction preventEvent(element, eventName, toggleProperty, preventWithProperty) {\n\t\tfunction handler(e) {\n\t\t\tif (Boolean(element[toggleProperty]) === Boolean(preventWithProperty)) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t// console.log(eventName, 'prevented on', element);\n\t\t\t}\n\t\t\tdelete element[toggleProperty];\n\t\t}\n\t\telement.addEventListener(eventName, handler, false);\n\n\t\t// Return handler to allow to disable the prevention. Usage:\n\t\t// const preventionHandler = preventEvent(el, 'click');\n\t\t// el.removeEventHandler('click', preventionHandler);\n\t\treturn handler;\n\t}\n\n\tfunction proxyProperty(object, propertyName, sourceObject, copyFirst) {\n\t\tfunction get() {\n\t\t\treturn sourceObject[propertyName];\n\t\t}\n\t\tfunction set(value) {\n\t\t\tsourceObject[propertyName] = value;\n\t\t}\n\n\t\tif (copyFirst) {\n\t\t\tset(object[propertyName]);\n\t\t}\n\n\t\tObject.defineProperty(object, propertyName, { get: get, set: set });\n\t}\n\n\tfunction proxyEvent(object, eventName, sourceObject) {\n\t\tsourceObject.addEventListener(eventName, function () {\n\t\t\treturn object.dispatchEvent(new Event(eventName));\n\t\t});\n\t}\n\n\tfunction dispatchEventAsync(element, type) {\n\t\tPromise.resolve().then(function () {\n\t\t\telement.dispatchEvent(new Event(type));\n\t\t});\n\t}\n\n\tvar iOS8or9 = (typeof document === 'undefined' ? 'undefined' : _typeof(document)) === 'object' && 'object-fit' in document.head.style && !matchMedia('(-webkit-video-playable-inline)').matches;\n\n\tvar ಠ = 'bfred-it:iphone-inline-video';\n\tvar ಠevent = 'bfred-it:iphone-inline-video:event';\n\tvar ಠplay = 'bfred-it:iphone-inline-video:nativeplay';\n\tvar ಠpause = 'bfred-it:iphone-inline-video:nativepause';\n\n\t/**\n  * UTILS\n  */\n\n\tfunction getAudioFromVideo(video) {\n\t\tvar audio = new Audio();\n\t\tproxyEvent(video, 'play', audio);\n\t\tproxyEvent(video, 'playing', audio);\n\t\tproxyEvent(video, 'pause', audio);\n\t\taudio.crossOrigin = video.crossOrigin;\n\n\t\t// 'data:' causes audio.networkState > 0\n\t\t// which then allows to keep <audio> in a resumable playing state\n\t\t// i.e. once you set a real src it will keep playing if it was if .play() was called\n\t\taudio.src = video.src || video.currentSrc || 'data:';\n\n\t\t// if (audio.src === 'data:') {\n\t\t//   TODO: wait for video to be selected\n\t\t// }\n\t\treturn audio;\n\t}\n\n\tvar lastRequests = [];\n\tvar requestIndex = 0;\n\tvar lastTimeupdateEvent;\n\n\tfunction setTime(video, time, rememberOnly) {\n\t\t// allow one timeupdate event every 200+ ms\n\t\tif ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n\t\t\tvideo[ಠevent] = true;\n\t\t\tlastTimeupdateEvent = Date.now();\n\t\t}\n\t\tif (!rememberOnly) {\n\t\t\tvideo.currentTime = time;\n\t\t}\n\t\tlastRequests[++requestIndex % 3] = time * 100 | 0 / 100;\n\t}\n\n\tfunction isPlayerEnded(player) {\n\t\treturn player.driver.currentTime >= player.video.duration;\n\t}\n\n\tfunction update(timeDiff) {\n\t\tvar player = this;\n\t\t// console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n\t\tif (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n\t\t\tif (!player.hasAudio) {\n\t\t\t\tplayer.driver.currentTime = player.video.currentTime + timeDiff * player.video.playbackRate / 1000;\n\t\t\t\tif (player.video.loop && isPlayerEnded(player)) {\n\t\t\t\t\tplayer.driver.currentTime = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTime(player.video, player.driver.currentTime);\n\t\t} else if (player.video.networkState === player.video.NETWORK_IDLE && player.video.buffered.length === 0) {\n\t\t\t// this should happen when the source is available but:\n\t\t\t// - it's potentially playing (.paused === false)\n\t\t\t// - it's not ready to play\n\t\t\t// - it's not loading\n\t\t\t// If it hasAudio, that will be loaded in the 'emptied' handler below\n\t\t\tplayer.video.load();\n\t\t\t// console.log('Will load');\n\t\t}\n\n\t\t// console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n\t\tif (player.video.ended) {\n\t\t\tdelete player.video[ಠevent]; // allow timeupdate event\n\t\t\tplayer.video.pause(true);\n\t\t}\n\t}\n\n\t/**\n  * METHODS\n  */\n\n\tfunction play() {\n\t\t// console.log('play');\n\t\tvar video = this;\n\t\tvar player = video[ಠ];\n\n\t\t// if it's fullscreen, use the native player\n\t\tif (video.webkitDisplayingFullscreen) {\n\t\t\tvideo[ಠplay]();\n\t\t\treturn;\n\t\t}\n\n\t\tif (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n\t\t\t// console.log('src changed on play', video.src);\n\t\t\tsetTime(video, 0, true);\n\t\t\tplayer.driver.src = video.src;\n\t\t}\n\n\t\tif (!video.paused) {\n\t\t\treturn;\n\t\t}\n\t\tplayer.paused = false;\n\n\t\tif (video.buffered.length === 0) {\n\t\t\t// .load() causes the emptied event\n\t\t\t// the alternative is .play()+.pause() but that triggers play/pause events, even worse\n\t\t\t// possibly the alternative is preventing this event only once\n\t\t\tvideo.load();\n\t\t}\n\n\t\tplayer.driver.play();\n\t\tplayer.updater.start();\n\n\t\tif (!player.hasAudio) {\n\t\t\tdispatchEventAsync(video, 'play');\n\t\t\tif (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n\t\t\t\t// console.log('onplay');\n\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t}\n\t\t}\n\t}\n\tfunction pause(forceEvents) {\n\t\t// console.log('pause');\n\t\tvar video = this;\n\t\tvar player = video[ಠ];\n\n\t\tplayer.driver.pause();\n\t\tplayer.updater.stop();\n\n\t\t// if it's fullscreen, the developer the native player.pause()\n\t\t// This is at the end of pause() because it also\n\t\t// needs to make sure that the simulation is paused\n\t\tif (video.webkitDisplayingFullscreen) {\n\t\t\tvideo[ಠpause]();\n\t\t}\n\n\t\tif (player.paused && !forceEvents) {\n\t\t\treturn;\n\t\t}\n\n\t\tplayer.paused = true;\n\t\tif (!player.hasAudio) {\n\t\t\tdispatchEventAsync(video, 'pause');\n\t\t}\n\t\tif (video.ended) {\n\t\t\tvideo[ಠevent] = true;\n\t\t\tdispatchEventAsync(video, 'ended');\n\t\t}\n\t}\n\n\t/**\n  * SETUP\n  */\n\n\tfunction addPlayer(video, hasAudio) {\n\t\tvar player = video[ಠ] = {};\n\t\tplayer.paused = true; // track whether 'pause' events have been fired\n\t\tplayer.hasAudio = hasAudio;\n\t\tplayer.video = video;\n\t\tplayer.updater = frameIntervalometer(update.bind(player));\n\n\t\tif (hasAudio) {\n\t\t\tplayer.driver = getAudioFromVideo(video);\n\t\t} else {\n\t\t\tvideo.addEventListener('canplay', function () {\n\t\t\t\tif (!video.paused) {\n\t\t\t\t\t// console.log('oncanplay');\n\t\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t\t}\n\t\t\t});\n\t\t\tplayer.driver = {\n\t\t\t\tsrc: video.src || video.currentSrc || 'data:',\n\t\t\t\tmuted: true,\n\t\t\t\tpaused: true,\n\t\t\t\tpause: function pause() {\n\t\t\t\t\tplayer.driver.paused = true;\n\t\t\t\t},\n\t\t\t\tplay: function play() {\n\t\t\t\t\tplayer.driver.paused = false;\n\t\t\t\t\t// media automatically goes to 0 if .play() is called when it's done\n\t\t\t\t\tif (isPlayerEnded(player)) {\n\t\t\t\t\t\tsetTime(video, 0);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tget ended() {\n\t\t\t\t\treturn isPlayerEnded(player);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// .load() causes the emptied event\n\t\tvideo.addEventListener('emptied', function () {\n\t\t\t// console.log('driver src is', player.driver.src);\n\t\t\tvar wasEmpty = !player.driver.src || player.driver.src === 'data:';\n\t\t\tif (player.driver.src && player.driver.src !== video.src) {\n\t\t\t\t// console.log('src changed to', video.src);\n\t\t\t\tsetTime(video, 0, true);\n\t\t\t\tplayer.driver.src = video.src;\n\t\t\t\t// playing videos will only keep playing if no src was present when .play()’ed\n\t\t\t\tif (wasEmpty) {\n\t\t\t\t\tplayer.driver.play();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.updater.stop();\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\n\t\t// stop programmatic player when OS takes over\n\t\tvideo.addEventListener('webkitbeginfullscreen', function () {\n\t\t\tif (!video.paused) {\n\t\t\t\t// make sure that the <audio> and the syncer/updater are stopped\n\t\t\t\tvideo.pause();\n\n\t\t\t\t// play video natively\n\t\t\t\tvideo[ಠplay]();\n\t\t\t} else if (hasAudio && player.driver.buffered.length === 0) {\n\t\t\t\t// if the first play is native,\n\t\t\t\t// the <audio> needs to be buffered manually\n\t\t\t\t// so when the fullscreen ends, it can be set to the same current time\n\t\t\t\tplayer.driver.load();\n\t\t\t}\n\t\t});\n\t\tif (hasAudio) {\n\t\t\tvideo.addEventListener('webkitendfullscreen', function () {\n\t\t\t\t// sync audio to new video position\n\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t\t// console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n\t\t\t});\n\n\t\t\t// allow seeking\n\t\t\tvideo.addEventListener('seeking', function () {\n\t\t\t\tif (lastRequests.indexOf(video.currentTime * 100 | 0 / 100) < 0) {\n\t\t\t\t\t// console.log('User-requested seeking');\n\t\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction overloadAPI(video) {\n\t\tvar player = video[ಠ];\n\t\tvideo[ಠplay] = video.play;\n\t\tvideo[ಠpause] = video.pause;\n\t\tvideo.play = play;\n\t\tvideo.pause = pause;\n\t\tproxyProperty(video, 'paused', player.driver);\n\t\tproxyProperty(video, 'muted', player.driver, true);\n\t\tproxyProperty(video, 'playbackRate', player.driver, true);\n\t\tproxyProperty(video, 'ended', player.driver);\n\t\tproxyProperty(video, 'loop', player.driver, true);\n\t\tpreventEvent(video, 'seeking');\n\t\tpreventEvent(video, 'seeked');\n\t\tpreventEvent(video, 'timeupdate', ಠevent, false);\n\t\tpreventEvent(video, 'ended', ಠevent, false); // prevent occasional native ended events\n\t}\n\n\tfunction enableInlineVideo(video, opts) {\n\t\tif (opts === void 0) opts = {};\n\n\t\t// Stop if already enabled\n\t\tif (video[ಠ]) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Allow the user to skip detection\n\t\tif (!opts.everywhere) {\n\t\t\t// Only iOS8 and 9 are supported\n\t\t\tif (!iOS8or9) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Stop if it's not an allowed device\n\t\t\tif (!(opts.iPad || opts.ipad ? /iPhone|iPod|iPad/ : /iPhone|iPod/).test(navigator.userAgent)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Stop native playback\n\t\tif (!video.paused && video.webkitDisplayingFullscreen) {\n\t\t\tvideo.pause();\n\t\t}\n\n\t\taddPlayer(video, !video.muted);\n\t\toverloadAPI(video);\n\t\tvideo.classList.add('IIV');\n\n\t\t// Autoplay\n\t\tif (video.muted && video.autoplay) {\n\t\t\tvideo.play();\n\t\t}\n\n\t\tif (!/iPhone|iPod|iPad/.test(navigator.platform)) {\n\t\t\tconsole.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n\t\t}\n\t}\n\n\treturn enableInlineVideo;\n}();\n\nmodule.exports = enableInlineVideo;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvbGliL3VpL3ZpZGVvLmVzNj84ZGM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBucG0uaW0vaXBob25lLWlubGluZS12aWRlbyAyLjAuMiAqL1xudmFyIGVuYWJsZUlubGluZVZpZGVvID0gKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qISBucG0uaW0vaW50ZXJ2YWxvbWV0ZXIgKi9cblx0ZnVuY3Rpb24gaW50ZXJ2YWxvbWV0ZXIoY2IsIHJlcXVlc3QsIGNhbmNlbCwgcmVxdWVzdFBhcmFtZXRlcikge1xuXHRcdHZhciByZXF1ZXN0SWQ7XG5cdFx0dmFyIHByZXZpb3VzTG9vcFRpbWU7XG5cdFx0ZnVuY3Rpb24gbG9vcChub3cpIHtcblx0XHRcdC8vIG11c3QgYmUgcmVxdWVzdGVkIGJlZm9yZSBjYigpIGJlY2F1c2UgdGhhdCBtaWdodCBjYWxsIC5zdG9wKClcblx0XHRcdHJlcXVlc3RJZCA9IHJlcXVlc3QobG9vcCwgcmVxdWVzdFBhcmFtZXRlcik7XG5cblx0XHRcdC8vIGNhbGxlZCB3aXRoIFwibXMgc2luY2UgbGFzdCBjYWxsXCIuIDAgb24gc3RhcnQoKVxuXHRcdFx0Y2Iobm93IC0gKHByZXZpb3VzTG9vcFRpbWUgfHwgbm93KSk7XG5cblx0XHRcdHByZXZpb3VzTG9vcFRpbWUgPSBub3c7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7XG5cdFx0XHRcdGlmICghcmVxdWVzdElkKSB7IC8vIHByZXZlbnQgZG91YmxlIHN0YXJ0c1xuXHRcdFx0XHRcdGxvb3AoMCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuXHRcdFx0XHRjYW5jZWwocmVxdWVzdElkKTtcblx0XHRcdFx0cmVxdWVzdElkID0gbnVsbDtcblx0XHRcdFx0cHJldmlvdXNMb29wVGltZSA9IDA7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGZyYW1lSW50ZXJ2YWxvbWV0ZXIoY2IpIHtcblx0XHRyZXR1cm4gaW50ZXJ2YWxvbWV0ZXIoY2IsIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgY2FuY2VsQW5pbWF0aW9uRnJhbWUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJldmVudEV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgdG9nZ2xlUHJvcGVydHksIHByZXZlbnRXaXRoUHJvcGVydHkpIHtcblx0XHRmdW5jdGlvbiBoYW5kbGVyKGUpIHtcblx0XHRcdGlmIChCb29sZWFuKGVsZW1lbnRbdG9nZ2xlUHJvcGVydHldKSA9PT0gQm9vbGVhbihwcmV2ZW50V2l0aFByb3BlcnR5KSkge1xuXHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhldmVudE5hbWUsICdwcmV2ZW50ZWQgb24nLCBlbGVtZW50KTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBlbGVtZW50W3RvZ2dsZVByb3BlcnR5XTtcblx0XHR9XG5cdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgZmFsc2UpO1xuXG5cdFx0Ly8gUmV0dXJuIGhhbmRsZXIgdG8gYWxsb3cgdG8gZGlzYWJsZSB0aGUgcHJldmVudGlvbi4gVXNhZ2U6XG5cdFx0Ly8gY29uc3QgcHJldmVudGlvbkhhbmRsZXIgPSBwcmV2ZW50RXZlbnQoZWwsICdjbGljaycpO1xuXHRcdC8vIGVsLnJlbW92ZUV2ZW50SGFuZGxlcignY2xpY2snLCBwcmV2ZW50aW9uSGFuZGxlcik7XG5cdFx0cmV0dXJuIGhhbmRsZXI7XG5cdH1cblxuXHRmdW5jdGlvbiBwcm94eVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHlOYW1lLCBzb3VyY2VPYmplY3QsIGNvcHlGaXJzdCkge1xuXHRcdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRcdHJldHVybiBzb3VyY2VPYmplY3RbcHJvcGVydHlOYW1lXTtcblx0XHR9XG5cdFx0ZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdFx0XHRzb3VyY2VPYmplY3RbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmIChjb3B5Rmlyc3QpIHtcblx0XHRcdHNldChvYmplY3RbcHJvcGVydHlOYW1lXSk7XG5cdFx0fVxuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHlOYW1lLCB7Z2V0OiBnZXQsIHNldDogc2V0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBwcm94eUV2ZW50KG9iamVjdCwgZXZlbnROYW1lLCBzb3VyY2VPYmplY3QpIHtcblx0XHRzb3VyY2VPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9iamVjdC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChldmVudE5hbWUpKTsgfSk7XG5cdH1cblxuXHRmdW5jdGlvbiBkaXNwYXRjaEV2ZW50QXN5bmMoZWxlbWVudCwgdHlwZSkge1xuXHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0ZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCh0eXBlKSk7XG5cdFx0fSk7XG5cdH1cblxuXHR2YXIgaU9TOG9yOSA9IHR5cGVvZiBkb2N1bWVudCA9PT0gJ29iamVjdCcgJiYgJ29iamVjdC1maXQnIGluIGRvY3VtZW50LmhlYWQuc3R5bGUgJiYgIW1hdGNoTWVkaWEoJygtd2Via2l0LXZpZGVvLXBsYXlhYmxlLWlubGluZSknKS5tYXRjaGVzO1xuXG5cdHZhciDgsqAgPSAnYmZyZWQtaXQ6aXBob25lLWlubGluZS12aWRlbyc7XG5cdHZhciDgsqBldmVudCA9ICdiZnJlZC1pdDppcGhvbmUtaW5saW5lLXZpZGVvOmV2ZW50Jztcblx0dmFyIOCyoHBsYXkgPSAnYmZyZWQtaXQ6aXBob25lLWlubGluZS12aWRlbzpuYXRpdmVwbGF5Jztcblx0dmFyIOCyoHBhdXNlID0gJ2JmcmVkLWl0OmlwaG9uZS1pbmxpbmUtdmlkZW86bmF0aXZlcGF1c2UnO1xuXG5cdC8qKlxuXHQgKiBVVElMU1xuXHQgKi9cblxuXHRmdW5jdGlvbiBnZXRBdWRpb0Zyb21WaWRlbyh2aWRlbykge1xuXHRcdHZhciBhdWRpbyA9IG5ldyBBdWRpbygpO1xuXHRcdHByb3h5RXZlbnQodmlkZW8sICdwbGF5JywgYXVkaW8pO1xuXHRcdHByb3h5RXZlbnQodmlkZW8sICdwbGF5aW5nJywgYXVkaW8pO1xuXHRcdHByb3h5RXZlbnQodmlkZW8sICdwYXVzZScsIGF1ZGlvKTtcblx0XHRhdWRpby5jcm9zc09yaWdpbiA9IHZpZGVvLmNyb3NzT3JpZ2luO1xuXG5cdFx0Ly8gJ2RhdGE6JyBjYXVzZXMgYXVkaW8ubmV0d29ya1N0YXRlID4gMFxuXHRcdC8vIHdoaWNoIHRoZW4gYWxsb3dzIHRvIGtlZXAgPGF1ZGlvPiBpbiBhIHJlc3VtYWJsZSBwbGF5aW5nIHN0YXRlXG5cdFx0Ly8gaS5lLiBvbmNlIHlvdSBzZXQgYSByZWFsIHNyYyBpdCB3aWxsIGtlZXAgcGxheWluZyBpZiBpdCB3YXMgaWYgLnBsYXkoKSB3YXMgY2FsbGVkXG5cdFx0YXVkaW8uc3JjID0gdmlkZW8uc3JjIHx8IHZpZGVvLmN1cnJlbnRTcmMgfHwgJ2RhdGE6JztcblxuXHRcdC8vIGlmIChhdWRpby5zcmMgPT09ICdkYXRhOicpIHtcblx0XHQvLyAgIFRPRE86IHdhaXQgZm9yIHZpZGVvIHRvIGJlIHNlbGVjdGVkXG5cdFx0Ly8gfVxuXHRcdHJldHVybiBhdWRpbztcblx0fVxuXG5cdHZhciBsYXN0UmVxdWVzdHMgPSBbXTtcblx0dmFyIHJlcXVlc3RJbmRleCA9IDA7XG5cdHZhciBsYXN0VGltZXVwZGF0ZUV2ZW50O1xuXG5cdGZ1bmN0aW9uIHNldFRpbWUodmlkZW8sIHRpbWUsIHJlbWVtYmVyT25seSkge1xuXHRcdC8vIGFsbG93IG9uZSB0aW1ldXBkYXRlIGV2ZW50IGV2ZXJ5IDIwMCsgbXNcblx0XHRpZiAoKGxhc3RUaW1ldXBkYXRlRXZlbnQgfHwgMCkgKyAyMDAgPCBEYXRlLm5vdygpKSB7XG5cdFx0XHR2aWRlb1vgsqBldmVudF0gPSB0cnVlO1xuXHRcdFx0bGFzdFRpbWV1cGRhdGVFdmVudCA9IERhdGUubm93KCk7XG5cdFx0fVxuXHRcdGlmICghcmVtZW1iZXJPbmx5KSB7XG5cdFx0XHR2aWRlby5jdXJyZW50VGltZSA9IHRpbWU7XG5cdFx0fVxuXHRcdGxhc3RSZXF1ZXN0c1srK3JlcXVlc3RJbmRleCAlIDNdID0gdGltZSAqIDEwMCB8IDAgLyAxMDA7XG5cdH1cblxuXHRmdW5jdGlvbiBpc1BsYXllckVuZGVkKHBsYXllcikge1xuXHRcdHJldHVybiBwbGF5ZXIuZHJpdmVyLmN1cnJlbnRUaW1lID49IHBsYXllci52aWRlby5kdXJhdGlvbjtcblx0fVxuXG5cdGZ1bmN0aW9uIHVwZGF0ZSh0aW1lRGlmZikge1xuXHRcdHZhciBwbGF5ZXIgPSB0aGlzO1xuXHRcdC8vIGNvbnNvbGUubG9nKCd1cGRhdGUnLCBwbGF5ZXIudmlkZW8ucmVhZHlTdGF0ZSwgcGxheWVyLnZpZGVvLm5ldHdvcmtTdGF0ZSwgcGxheWVyLmRyaXZlci5yZWFkeVN0YXRlLCBwbGF5ZXIuZHJpdmVyLm5ldHdvcmtTdGF0ZSwgcGxheWVyLmRyaXZlci5wYXVzZWQpO1xuXHRcdGlmIChwbGF5ZXIudmlkZW8ucmVhZHlTdGF0ZSA+PSBwbGF5ZXIudmlkZW8uSEFWRV9GVVRVUkVfREFUQSkge1xuXHRcdFx0aWYgKCFwbGF5ZXIuaGFzQXVkaW8pIHtcblx0XHRcdFx0cGxheWVyLmRyaXZlci5jdXJyZW50VGltZSA9IHBsYXllci52aWRlby5jdXJyZW50VGltZSArICgodGltZURpZmYgKiBwbGF5ZXIudmlkZW8ucGxheWJhY2tSYXRlKSAvIDEwMDApO1xuXHRcdFx0XHRpZiAocGxheWVyLnZpZGVvLmxvb3AgJiYgaXNQbGF5ZXJFbmRlZChwbGF5ZXIpKSB7XG5cdFx0XHRcdFx0cGxheWVyLmRyaXZlci5jdXJyZW50VGltZSA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNldFRpbWUocGxheWVyLnZpZGVvLCBwbGF5ZXIuZHJpdmVyLmN1cnJlbnRUaW1lKTtcblx0XHR9IGVsc2UgaWYgKHBsYXllci52aWRlby5uZXR3b3JrU3RhdGUgPT09IHBsYXllci52aWRlby5ORVRXT1JLX0lETEUgJiYgcGxheWVyLnZpZGVvLmJ1ZmZlcmVkLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gdGhpcyBzaG91bGQgaGFwcGVuIHdoZW4gdGhlIHNvdXJjZSBpcyBhdmFpbGFibGUgYnV0OlxuXHRcdFx0Ly8gLSBpdCdzIHBvdGVudGlhbGx5IHBsYXlpbmcgKC5wYXVzZWQgPT09IGZhbHNlKVxuXHRcdFx0Ly8gLSBpdCdzIG5vdCByZWFkeSB0byBwbGF5XG5cdFx0XHQvLyAtIGl0J3Mgbm90IGxvYWRpbmdcblx0XHRcdC8vIElmIGl0IGhhc0F1ZGlvLCB0aGF0IHdpbGwgYmUgbG9hZGVkIGluIHRoZSAnZW1wdGllZCcgaGFuZGxlciBiZWxvd1xuXHRcdFx0cGxheWVyLnZpZGVvLmxvYWQoKTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdXaWxsIGxvYWQnKTtcblx0XHR9XG5cblx0XHQvLyBjb25zb2xlLmFzc2VydChwbGF5ZXIudmlkZW8uY3VycmVudFRpbWUgPT09IHBsYXllci5kcml2ZXIuY3VycmVudFRpbWUsICdWaWRlbyBub3QgdXBkYXRpbmchJyk7XG5cblx0XHRpZiAocGxheWVyLnZpZGVvLmVuZGVkKSB7XG5cdFx0XHRkZWxldGUgcGxheWVyLnZpZGVvW+CyoGV2ZW50XTsgLy8gYWxsb3cgdGltZXVwZGF0ZSBldmVudFxuXHRcdFx0cGxheWVyLnZpZGVvLnBhdXNlKHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBNRVRIT0RTXG5cdCAqL1xuXG5cdGZ1bmN0aW9uIHBsYXkoKSB7XG5cdFx0Ly8gY29uc29sZS5sb2coJ3BsYXknKTtcblx0XHR2YXIgdmlkZW8gPSB0aGlzO1xuXHRcdHZhciBwbGF5ZXIgPSB2aWRlb1vgsqBdO1xuXG5cdFx0Ly8gaWYgaXQncyBmdWxsc2NyZWVuLCB1c2UgdGhlIG5hdGl2ZSBwbGF5ZXJcblx0XHRpZiAodmlkZW8ud2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW4pIHtcblx0XHRcdHZpZGVvW+CyoHBsYXldKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHBsYXllci5kcml2ZXIuc3JjICE9PSAnZGF0YTonICYmIHBsYXllci5kcml2ZXIuc3JjICE9PSB2aWRlby5zcmMpIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdzcmMgY2hhbmdlZCBvbiBwbGF5JywgdmlkZW8uc3JjKTtcblx0XHRcdHNldFRpbWUodmlkZW8sIDAsIHRydWUpO1xuXHRcdFx0cGxheWVyLmRyaXZlci5zcmMgPSB2aWRlby5zcmM7XG5cdFx0fVxuXG5cdFx0aWYgKCF2aWRlby5wYXVzZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cGxheWVyLnBhdXNlZCA9IGZhbHNlO1xuXG5cdFx0aWYgKHZpZGVvLmJ1ZmZlcmVkLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gLmxvYWQoKSBjYXVzZXMgdGhlIGVtcHRpZWQgZXZlbnRcblx0XHRcdC8vIHRoZSBhbHRlcm5hdGl2ZSBpcyAucGxheSgpKy5wYXVzZSgpIGJ1dCB0aGF0IHRyaWdnZXJzIHBsYXkvcGF1c2UgZXZlbnRzLCBldmVuIHdvcnNlXG5cdFx0XHQvLyBwb3NzaWJseSB0aGUgYWx0ZXJuYXRpdmUgaXMgcHJldmVudGluZyB0aGlzIGV2ZW50IG9ubHkgb25jZVxuXHRcdFx0dmlkZW8ubG9hZCgpO1xuXHRcdH1cblxuXHRcdHBsYXllci5kcml2ZXIucGxheSgpO1xuXHRcdHBsYXllci51cGRhdGVyLnN0YXJ0KCk7XG5cblx0XHRpZiAoIXBsYXllci5oYXNBdWRpbykge1xuXHRcdFx0ZGlzcGF0Y2hFdmVudEFzeW5jKHZpZGVvLCAncGxheScpO1xuXHRcdFx0aWYgKHBsYXllci52aWRlby5yZWFkeVN0YXRlID49IHBsYXllci52aWRlby5IQVZFX0VOT1VHSF9EQVRBKSB7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdvbnBsYXknKTtcblx0XHRcdFx0ZGlzcGF0Y2hFdmVudEFzeW5jKHZpZGVvLCAncGxheWluZycpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBwYXVzZShmb3JjZUV2ZW50cykge1xuXHRcdC8vIGNvbnNvbGUubG9nKCdwYXVzZScpO1xuXHRcdHZhciB2aWRlbyA9IHRoaXM7XG5cdFx0dmFyIHBsYXllciA9IHZpZGVvW+CyoF07XG5cblx0XHRwbGF5ZXIuZHJpdmVyLnBhdXNlKCk7XG5cdFx0cGxheWVyLnVwZGF0ZXIuc3RvcCgpO1xuXG5cdFx0Ly8gaWYgaXQncyBmdWxsc2NyZWVuLCB0aGUgZGV2ZWxvcGVyIHRoZSBuYXRpdmUgcGxheWVyLnBhdXNlKClcblx0XHQvLyBUaGlzIGlzIGF0IHRoZSBlbmQgb2YgcGF1c2UoKSBiZWNhdXNlIGl0IGFsc29cblx0XHQvLyBuZWVkcyB0byBtYWtlIHN1cmUgdGhhdCB0aGUgc2ltdWxhdGlvbiBpcyBwYXVzZWRcblx0XHRpZiAodmlkZW8ud2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW4pIHtcblx0XHRcdHZpZGVvW+CyoHBhdXNlXSgpO1xuXHRcdH1cblxuXHRcdGlmIChwbGF5ZXIucGF1c2VkICYmICFmb3JjZUV2ZW50cykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHBsYXllci5wYXVzZWQgPSB0cnVlO1xuXHRcdGlmICghcGxheWVyLmhhc0F1ZGlvKSB7XG5cdFx0XHRkaXNwYXRjaEV2ZW50QXN5bmModmlkZW8sICdwYXVzZScpO1xuXHRcdH1cblx0XHRpZiAodmlkZW8uZW5kZWQpIHtcblx0XHRcdHZpZGVvW+CyoGV2ZW50XSA9IHRydWU7XG5cdFx0XHRkaXNwYXRjaEV2ZW50QXN5bmModmlkZW8sICdlbmRlZCcpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTRVRVUFxuXHQgKi9cblxuXHRmdW5jdGlvbiBhZGRQbGF5ZXIodmlkZW8sIGhhc0F1ZGlvKSB7XG5cdFx0dmFyIHBsYXllciA9IHZpZGVvW+CyoF0gPSB7fTtcblx0XHRwbGF5ZXIucGF1c2VkID0gdHJ1ZTsgLy8gdHJhY2sgd2hldGhlciAncGF1c2UnIGV2ZW50cyBoYXZlIGJlZW4gZmlyZWRcblx0XHRwbGF5ZXIuaGFzQXVkaW8gPSBoYXNBdWRpbztcblx0XHRwbGF5ZXIudmlkZW8gPSB2aWRlbztcblx0XHRwbGF5ZXIudXBkYXRlciA9IGZyYW1lSW50ZXJ2YWxvbWV0ZXIodXBkYXRlLmJpbmQocGxheWVyKSk7XG5cblx0XHRpZiAoaGFzQXVkaW8pIHtcblx0XHRcdHBsYXllci5kcml2ZXIgPSBnZXRBdWRpb0Zyb21WaWRlbyh2aWRlbyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICghdmlkZW8ucGF1c2VkKSB7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ29uY2FucGxheScpO1xuXHRcdFx0XHRcdGRpc3BhdGNoRXZlbnRBc3luYyh2aWRlbywgJ3BsYXlpbmcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRwbGF5ZXIuZHJpdmVyID0ge1xuXHRcdFx0XHRzcmM6IHZpZGVvLnNyYyB8fCB2aWRlby5jdXJyZW50U3JjIHx8ICdkYXRhOicsXG5cdFx0XHRcdG11dGVkOiB0cnVlLFxuXHRcdFx0XHRwYXVzZWQ6IHRydWUsXG5cdFx0XHRcdHBhdXNlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cGxheWVyLmRyaXZlci5wYXVzZWQgPSB0cnVlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwbGF5OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cGxheWVyLmRyaXZlci5wYXVzZWQgPSBmYWxzZTtcblx0XHRcdFx0XHQvLyBtZWRpYSBhdXRvbWF0aWNhbGx5IGdvZXMgdG8gMCBpZiAucGxheSgpIGlzIGNhbGxlZCB3aGVuIGl0J3MgZG9uZVxuXHRcdFx0XHRcdGlmIChpc1BsYXllckVuZGVkKHBsYXllcikpIHtcblx0XHRcdFx0XHRcdHNldFRpbWUodmlkZW8sIDApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0Z2V0IGVuZGVkKCkge1xuXHRcdFx0XHRcdHJldHVybiBpc1BsYXllckVuZGVkKHBsYXllcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gLmxvYWQoKSBjYXVzZXMgdGhlIGVtcHRpZWQgZXZlbnRcblx0XHR2aWRlby5hZGRFdmVudExpc3RlbmVyKCdlbXB0aWVkJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJ2RyaXZlciBzcmMgaXMnLCBwbGF5ZXIuZHJpdmVyLnNyYyk7XG5cdFx0XHR2YXIgd2FzRW1wdHkgPSAhcGxheWVyLmRyaXZlci5zcmMgfHwgcGxheWVyLmRyaXZlci5zcmMgPT09ICdkYXRhOic7XG5cdFx0XHRpZiAocGxheWVyLmRyaXZlci5zcmMgJiYgcGxheWVyLmRyaXZlci5zcmMgIT09IHZpZGVvLnNyYykge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygnc3JjIGNoYW5nZWQgdG8nLCB2aWRlby5zcmMpO1xuXHRcdFx0XHRzZXRUaW1lKHZpZGVvLCAwLCB0cnVlKTtcblx0XHRcdFx0cGxheWVyLmRyaXZlci5zcmMgPSB2aWRlby5zcmM7XG5cdFx0XHRcdC8vIHBsYXlpbmcgdmlkZW9zIHdpbGwgb25seSBrZWVwIHBsYXlpbmcgaWYgbm8gc3JjIHdhcyBwcmVzZW50IHdoZW4gLnBsYXkoKeKAmWVkXG5cdFx0XHRcdGlmICh3YXNFbXB0eSkge1xuXHRcdFx0XHRcdHBsYXllci5kcml2ZXIucGxheSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHBsYXllci51cGRhdGVyLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIGZhbHNlKTtcblxuXHRcdC8vIHN0b3AgcHJvZ3JhbW1hdGljIHBsYXllciB3aGVuIE9TIHRha2VzIG92ZXJcblx0XHR2aWRlby5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRiZWdpbmZ1bGxzY3JlZW4nLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIXZpZGVvLnBhdXNlZCkge1xuXHRcdFx0XHQvLyBtYWtlIHN1cmUgdGhhdCB0aGUgPGF1ZGlvPiBhbmQgdGhlIHN5bmNlci91cGRhdGVyIGFyZSBzdG9wcGVkXG5cdFx0XHRcdHZpZGVvLnBhdXNlKCk7XG5cblx0XHRcdFx0Ly8gcGxheSB2aWRlbyBuYXRpdmVseVxuXHRcdFx0XHR2aWRlb1vgsqBwbGF5XSgpO1xuXHRcdFx0fSBlbHNlIGlmIChoYXNBdWRpbyAmJiBwbGF5ZXIuZHJpdmVyLmJ1ZmZlcmVkLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHQvLyBpZiB0aGUgZmlyc3QgcGxheSBpcyBuYXRpdmUsXG5cdFx0XHRcdC8vIHRoZSA8YXVkaW8+IG5lZWRzIHRvIGJlIGJ1ZmZlcmVkIG1hbnVhbGx5XG5cdFx0XHRcdC8vIHNvIHdoZW4gdGhlIGZ1bGxzY3JlZW4gZW5kcywgaXQgY2FuIGJlIHNldCB0byB0aGUgc2FtZSBjdXJyZW50IHRpbWVcblx0XHRcdFx0cGxheWVyLmRyaXZlci5sb2FkKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0aWYgKGhhc0F1ZGlvKSB7XG5cdFx0XHR2aWRlby5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRlbmRmdWxsc2NyZWVuJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQvLyBzeW5jIGF1ZGlvIHRvIG5ldyB2aWRlbyBwb3NpdGlvblxuXHRcdFx0XHRwbGF5ZXIuZHJpdmVyLmN1cnJlbnRUaW1lID0gdmlkZW8uY3VycmVudFRpbWU7XG5cdFx0XHRcdC8vIGNvbnNvbGUuYXNzZXJ0KHBsYXllci5kcml2ZXIuY3VycmVudFRpbWUgPT09IHZpZGVvLmN1cnJlbnRUaW1lLCAnQXVkaW8gbm90IHN5bmNlZCcpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGFsbG93IHNlZWtpbmdcblx0XHRcdHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmIChsYXN0UmVxdWVzdHMuaW5kZXhPZih2aWRlby5jdXJyZW50VGltZSAqIDEwMCB8IDAgLyAxMDApIDwgMCkge1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdVc2VyLXJlcXVlc3RlZCBzZWVraW5nJyk7XG5cdFx0XHRcdFx0cGxheWVyLmRyaXZlci5jdXJyZW50VGltZSA9IHZpZGVvLmN1cnJlbnRUaW1lO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBvdmVybG9hZEFQSSh2aWRlbykge1xuXHRcdHZhciBwbGF5ZXIgPSB2aWRlb1vgsqBdO1xuXHRcdHZpZGVvW+CyoHBsYXldID0gdmlkZW8ucGxheTtcblx0XHR2aWRlb1vgsqBwYXVzZV0gPSB2aWRlby5wYXVzZTtcblx0XHR2aWRlby5wbGF5ID0gcGxheTtcblx0XHR2aWRlby5wYXVzZSA9IHBhdXNlO1xuXHRcdHByb3h5UHJvcGVydHkodmlkZW8sICdwYXVzZWQnLCBwbGF5ZXIuZHJpdmVyKTtcblx0XHRwcm94eVByb3BlcnR5KHZpZGVvLCAnbXV0ZWQnLCBwbGF5ZXIuZHJpdmVyLCB0cnVlKTtcblx0XHRwcm94eVByb3BlcnR5KHZpZGVvLCAncGxheWJhY2tSYXRlJywgcGxheWVyLmRyaXZlciwgdHJ1ZSk7XG5cdFx0cHJveHlQcm9wZXJ0eSh2aWRlbywgJ2VuZGVkJywgcGxheWVyLmRyaXZlcik7XG5cdFx0cHJveHlQcm9wZXJ0eSh2aWRlbywgJ2xvb3AnLCBwbGF5ZXIuZHJpdmVyLCB0cnVlKTtcblx0XHRwcmV2ZW50RXZlbnQodmlkZW8sICdzZWVraW5nJyk7XG5cdFx0cHJldmVudEV2ZW50KHZpZGVvLCAnc2Vla2VkJyk7XG5cdFx0cHJldmVudEV2ZW50KHZpZGVvLCAndGltZXVwZGF0ZScsIOCyoGV2ZW50LCBmYWxzZSk7XG5cdFx0cHJldmVudEV2ZW50KHZpZGVvLCAnZW5kZWQnLCDgsqBldmVudCwgZmFsc2UpOyAvLyBwcmV2ZW50IG9jY2FzaW9uYWwgbmF0aXZlIGVuZGVkIGV2ZW50c1xuXHR9XG5cblx0ZnVuY3Rpb24gZW5hYmxlSW5saW5lVmlkZW8odmlkZW8sIG9wdHMpIHtcblx0XHRpZiAoIG9wdHMgPT09IHZvaWQgMCApIG9wdHMgPSB7fTtcblxuXHRcdC8vIFN0b3AgaWYgYWxyZWFkeSBlbmFibGVkXG5cdFx0aWYgKHZpZGVvW+CyoF0pIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyB0aGUgdXNlciB0byBza2lwIGRldGVjdGlvblxuXHRcdGlmICghb3B0cy5ldmVyeXdoZXJlKSB7XG5cdFx0XHQvLyBPbmx5IGlPUzggYW5kIDkgYXJlIHN1cHBvcnRlZFxuXHRcdFx0aWYgKCFpT1M4b3I5KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RvcCBpZiBpdCdzIG5vdCBhbiBhbGxvd2VkIGRldmljZVxuXHRcdFx0aWYgKCEob3B0cy5pUGFkIHx8IG9wdHMuaXBhZCA/IC9pUGhvbmV8aVBvZHxpUGFkLyA6IC9pUGhvbmV8aVBvZC8pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFN0b3AgbmF0aXZlIHBsYXliYWNrXG5cdFx0aWYgKCF2aWRlby5wYXVzZWQgJiYgdmlkZW8ud2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW4pIHtcblx0XHRcdHZpZGVvLnBhdXNlKCk7XG5cdFx0fVxuXG5cdFx0YWRkUGxheWVyKHZpZGVvLCAhdmlkZW8ubXV0ZWQpO1xuXHRcdG92ZXJsb2FkQVBJKHZpZGVvKTtcblx0XHR2aWRlby5jbGFzc0xpc3QuYWRkKCdJSVYnKTtcblxuXHRcdC8vIEF1dG9wbGF5XG5cdFx0aWYgKHZpZGVvLm11dGVkICYmIHZpZGVvLmF1dG9wbGF5KSB7XG5cdFx0XHR2aWRlby5wbGF5KCk7XG5cdFx0fVxuXG5cdFx0aWYgKCEvaVBob25lfGlQb2R8aVBhZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJ2lwaG9uZS1pbmxpbmUtdmlkZW8gaXMgbm90IGd1YXJhbnRlZWQgdG8gd29yayBpbiBlbXVsYXRlZCBlbnZpcm9ubWVudHMnKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZW5hYmxlSW5saW5lVmlkZW87XG5cbn0oKSk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBlbmFibGVJbmxpbmVWaWRlbztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2xpYi91aS92aWRlby5lczYiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){"use strict";eval('\n\nvar video111 = __webpack_require__(/*! ./lib/ui/video */ 0);\n\n$(document).ready(function () {\n\t// bens = video;\n\t// video({\n\t// \tdom:$("#video"),     //要插入的dom\n\t// \tvideoSrc:"fll.mp4",  //视频地址\n\t// \tautoPlay:false,    //自动播放\n\t// \tloop:true,       //循环播放\n\t// \tmuted:false,     //是否静音\n\t// \tisCordova:false   //是否是在cordova中使用\n\t// });\n\n\tvar video = $("video").get(0);\n\tvideo111(video);\n\t// setTimeout(()=>{\n\t// \t$("video").get(0).play();\n\t// },1000)\n\tvideo.addEventListener(\'touchstart\', function () {\n\t\tvideo.play();\n\t});\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvaW5pdC5lczY/OTBhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdmlkZW8xMTEgPSByZXF1aXJlKFwiLi9saWIvdWkvdmlkZW9cIik7XG5cblxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXHQvLyBiZW5zID0gdmlkZW87XG5cdC8vIHZpZGVvKHtcblx0Ly8gXHRkb206JChcIiN2aWRlb1wiKSwgICAgIC8v6KaB5o+S5YWl55qEZG9tXG5cdC8vIFx0dmlkZW9TcmM6XCJmbGwubXA0XCIsICAvL+inhumikeWcsOWdgFxuXHQvLyBcdGF1dG9QbGF5OmZhbHNlLCAgICAvL+iHquWKqOaSreaUvlxuXHQvLyBcdGxvb3A6dHJ1ZSwgICAgICAgLy/lvqrnjq/mkq3mlL5cblx0Ly8gXHRtdXRlZDpmYWxzZSwgICAgIC8v5piv5ZCm6Z2Z6Z+zXG5cdC8vIFx0aXNDb3Jkb3ZhOmZhbHNlICAgLy/mmK/lkKbmmK/lnKhjb3Jkb3Zh5Lit5L2/55SoXG5cdC8vIH0pO1xuXG5cdHZhciB2aWRlbyA9ICQoXCJ2aWRlb1wiKS5nZXQoMCk7XG5cdHZpZGVvMTExKHZpZGVvKTtcblx0Ly8gc2V0VGltZW91dCgoKT0+e1xuXHQvLyBcdCQoXCJ2aWRlb1wiKS5nZXQoMCkucGxheSgpO1xuXHQvLyB9LDEwMDApXG5cdHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmlkZW8ucGxheSgpO1xuXHR9KTtcblxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2luaXQuZXM2Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9');
}]);